"use strict";(window.webpackChunkconsentbit=window.webpackChunkconsentbit||[]).push([[679],{9679:(e,t,n)=>{n.r(t),n.d(t,{appendBannerContent:()=>y,createBannerButtons:()=>a,createBannerContent:()=>p,createBannerHeading:()=>s,createBannerParagraph:()=>c,createCloseButton:()=>u,getOrCreateCloseIconAsset:()=>d});var o=n(5115),i=function(e,t,n,o){return new(n||(n=Promise))((function(i,l){function r(e){try{c(o.next(e))}catch(t){l(t)}}function s(e){try{c(o.throw(e))}catch(t){l(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}c((o=o.apply(e,t||[])).next())}))};const l=(e,t)=>i(void 0,void 0,void 0,(function*(){try{let n;switch(t.elementType){case"div":n=yield e.before(o.A.elementPresets.DivBlock);break;case"heading":n=yield e.before(o.A.elementPresets.Heading),n&&n.setHeadingLevel&&(yield n.setHeadingLevel(2));break;case"paragraph":n=yield e.before(o.A.elementPresets.Paragraph);break;case"button":n=yield e.before(o.A.elementPresets.Button);break;case"link":n=yield e.before(o.A.elementPresets.LinkBlock);break;default:throw new Error(`Unsupported element type: ${t.elementType}`)}if(!n)throw new Error(`Failed to create ${t.elementType} element`);if(t.textContent&&n.setTextContent&&(yield n.setTextContent(t.textContent)),t.customAttributes)for(const[e,o]of Object.entries(t.customAttributes))n.setCustomAttribute&&(yield n.setCustomAttribute(e,o));return n}catch(n){throw n}}));var r=function(e,t,n,o){return new(n||(n=Promise))((function(i,l){function r(e){try{c(o.next(e))}catch(t){l(t)}}function s(e){try{c(o.throw(e))}catch(t){l(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}c((o=o.apply(e,t||[])).next())}))};const s=e=>r(void 0,void 0,void 0,(function*(){var t;const{selectedElement:n,config:o,translations:i}=e;return yield l(n,{domId:"banner-heading",elementType:"heading",textContent:(null===(t=i[o.language])||void 0===t?void 0:t.heading)||"Cookie Settings",customAttributes:{}})})),c=e=>r(void 0,void 0,void 0,(function*(){var t;const{selectedElement:n,config:o,translations:i}=e;return yield l(n,{domId:"banner-paragraph",elementType:"paragraph",textContent:(null===(t=i[o.language])||void 0===t?void 0:t.description)||"We use cookies to provide you with the best possible experience. They also allow us to analyze user behavior in order to constantly improve the website for you.",customAttributes:{}})})),a=e=>r(void 0,void 0,void 0,(function*(){var t,n,o;const{selectedElement:i,config:r,translations:s}=e,c=[],a=yield l(i,{domId:"preferences-btn",elementType:"button",textContent:(null===(t=s[r.language])||void 0===t?void 0:t.preferences)||"Preferences",customAttributes:{}});c.push(a);const d=yield l(i,{domId:"decline-btn",elementType:"button",textContent:(null===(n=s[r.language])||void 0===n?void 0:n.reject)||"Reject",customAttributes:{}});c.push(d);const u=yield l(i,{domId:"accept-btn",elementType:"button",textContent:(null===(o=s[r.language])||void 0===o?void 0:o.accept)||"Accept",customAttributes:{}});return c.push(u),c})),d=e=>r(void 0,void 0,void 0,(function*(){try{const{getCloseIconColor:t}=yield Promise.resolve().then(n.bind(n,5405)),i=t(e),l=`close-icon-${i.replace("#","")}`,r=(yield o.A.getAllAssets()).find((e=>e.name&&e.name===l));if(r)return r;const s=new URL(n(2194),n.b).href,c=yield fetch(s);if(!c.ok)throw new Error(`Failed to fetch X-Vector.svg: ${c.status} ${c.statusText}`);let a=yield c.text();a=a.replace(/fill="black"/g,`fill="${i}"`),a=a.replace(/fill='black'/g,`fill="${i}"`),a=a.replace(/fill=black/g,`fill="${i}"`),a=a.replace(/fill\s*=\s*["']black["']/gi,`fill="${i}"`),a=a.replace(/fill\s*=\s*["'][^"']*["']/gi,`fill="${i}"`),a=a.replace(/width="385"/g,'width="16"'),a=a.replace(/height="385"/g,'height="16"'),a.includes(`fill="${i}"`)||(a=a.replace(/<path([^>]*?)>/gi,((e,t)=>t.includes("fill=")?e:`<path${t} fill="${i}">`)));const d=new Blob([a],{type:"image/svg+xml"}),u=new File([d],`${l}.svg`,{type:"image/svg+xml"});return yield o.A.createAsset(u)}catch(t){throw console.error("Error getting or creating close icon asset:",t),t}})),u=e=>r(void 0,void 0,void 0,(function*(){var t,n;const{selectedElement:i,config:r}=e;if(!r.toggleStates.closebutton)return null;const s=yield l(i,{domId:"close-button",elementType:"div",textContent:"",customAttributes:{consentbit:"close"}});if(s)try{const e=yield s.append(o.A.elementPresets.Image);if(!e)throw new Error("Failed to create image element");const i=yield d(r.color);yield e.setAsset(i);const l=(yield o.A.getStyleByName("consentCloseIcon"))||(yield o.A.createStyle("consentCloseIcon"));yield l.setProperties({width:"16px",height:"16px",display:"block"}),yield null===(n=(t=e).setStyles)||void 0===n?void 0:n.call(t,[l])}catch(c){console.error("Failed to set SVG icon for close button:",c)}return s})),p=e=>r(void 0,void 0,void 0,(function*(){const{selectedElement:t,config:n,translations:o}=e;try{const n=yield l(t,{domId:"inner-div",elementType:"div",customAttributes:{}}),o=yield s(e),i=yield u(e),r=yield c(e),d=yield l(t,{domId:"button-container",elementType:"div",customAttributes:{}});return{innerDiv:n,heading:o,closeButton:i,paragraph:r,buttonContainer:d,buttons:yield a(e)}}catch(i){throw i}})),y=(e,t)=>r(void 0,void 0,void 0,(function*(){try{const{innerDiv:n,heading:o,closeButton:i,paragraph:l,buttonContainer:r,buttons:s}=t;if(e.append&&(yield e.append(n),i&&(yield e.append(i)),n.append&&(yield n.append(o),yield n.append(l),yield n.append(r),r.append)))for(const e of s)yield r.append(e)}catch(n){throw n}}))}}]);